<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dante Propiedades ‚Äî Asistente Inmobiliario</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Panel de Filtros -->
    <div class="filters-panel">
      <div class="filters-header">
        <div class="logo-container">
          <h1>Dante Propiedades</h1>
        </div>
        <div class="filters-title">Filtros de B√∫squeda</div>
      </div>

      <div class="filter-group">
        <label class="filter-label">Tipo de Operaci√≥n</label>
        <select class="filter-select" id="operacion">
          <option value="">Todas</option>
          <option value="alquiler">Alquiler</option>
          <option value="venta">Venta</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">Barrio/Localidad</label>
        <select class="filter-select" id="barrio">
          <option value="">Todos</option>
          <option value="palermo">Palermo</option>
          <option value="recoleta">Recoleta</option>
          <option value="belgrano">Belgrano</option>
          <option value="almagro">Almagro</option>
          <option value="caballito">Caballito</option>
          <option value="microcentro">Microcentro</option>
          <option value="balvanera">Balvanera</option>
          <option value="boedo">Boedo</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">Tipo de Propiedad</label>
        <select class="filter-select" id="tipo">
          <option value="">Todos</option>
          <option value="departamento">Departamento</option>
          <option value="casa">Casa</option>
          <option value="ph">PH</option>
          <option value="casaquinta">Casaquinta</option>
          <option value="terreno">Terreno</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">Ambientes</label>
        <select class="filter-select" id="ambientes">
          <option value="">Cualquiera</option>
          <option value="1">1 Ambiente</option>
          <option value="2">2 Ambientes</option>
          <option value="3">3 Ambientes</option>
          <option value="4">4+ Ambientes</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">Precio (USD)</label>
        <div class="range-inputs">
          <input type="number" class="filter-input" id="precioMin" placeholder="M√≠nimo">
          <input type="number" class="filter-input" id="precioMax" placeholder="M√°ximo">
        </div>
      </div>

      <div class="filter-group">
        <label class="filter-label">Metros Cuadrados</label>
        <div class="range-inputs">
          <input type="number" class="filter-input" id="metrosMin" placeholder="M√≠nimo m¬≤">
          <input type="number" class="filter-input" id="metrosMax" placeholder="M√°ximo m¬≤">
        </div>
      </div>

      <div class="filter-buttons">
        <button class="btn btn-primary" id="aplicarFiltrosBtn">üîç Aplicar Filtros</button>
        <button class="btn btn-secondary" id="limpiarFiltrosBtn">üîÑ Limpiar Filtros</button>
      </div>
    </div>

    <!-- √Årea de Chat -->
    <div class="chat-area">
      <div class="chat-header">
        <h2>Asistente Inmobiliario</h2>
        <div class="chat-subtitle">Encontr√° la propiedad perfecta para vos</div>
        <div class="status-indicator">
          <div class="status-dot"></div>
          <span id="statusText">Conectado</span>
        </div>
        <button class="reset-chat" id="resetChatBtn">üîÑ Nueva Consulta</button>
      </div>

      <div class="chat-box" id="chatBox">
        <div class="message msg-bot">
          <b>ASISTENTE VIRTUAL</b>
          ¬°Hola! üëã Soy tu asistente de Dante Propiedades. Sistema conectado al backend. Us√° los filtros o contame directamente qu√© necesit√°s.
        </div>
      </div>

      <div class="typing-indicator" id="typingIndicator">
        <div class="typing-dots">
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
        </div>
        <span>Escribiendo...</span>
      </div>

      <div class="input-area">
        <div class="input-row">
          <input type="text" id="userInput" placeholder="Ej: 'Busco departamento con balc√≥n en Almagro...'" autocomplete="off">
          <button id="sendBtn">Enviar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Integraci√≥n modular -->
  <script type="module">
    import { enviarMensaje, resetearChat } from './js/chat.js';
    import { aplicarFiltros, limpiarFiltros } from './js/filtros.js';

    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('sendBtn').addEventListener('click', enviarMensaje);
      document.getElementById('userInput').addEventListener('keypress', e => {
        if (e.key === 'Enter') enviarMensaje();
      });
      document.getElementById('aplicarFiltrosBtn').addEventListener('click', aplicarFiltros);
      document.getElementById('limpiarFiltrosBtn').addEventListener('click', limpiarFiltros);
      document.getElementById('resetChatBtn').addEventListener('click', resetearChat);
    });
  </script>
</body>
</html>
